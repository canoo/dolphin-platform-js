{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","dolphin.min.js","src/dolphin.js","bower_components/core.js/library/fn/map.js","bower_components/core.js/library/modules/$.assert.js","bower_components/core.js/library/modules/$.cof.js","bower_components/core.js/library/modules/$.collection-strong.js","bower_components/core.js/library/modules/$.collection.js","bower_components/core.js/library/modules/$.ctx.js","bower_components/core.js/library/modules/$.def.js","bower_components/core.js/library/modules/$.fw.js","bower_components/core.js/library/modules/$.iter-detect.js","bower_components/core.js/library/modules/$.iter.js","bower_components/core.js/library/modules/$.js","bower_components/core.js/library/modules/$.species.js","bower_components/core.js/library/modules/$.string-at.js","bower_components/core.js/library/modules/$.uid.js","bower_components/core.js/library/modules/$.unscope.js","bower_components/core.js/library/modules/$.wks.js","bower_components/core.js/library/modules/es6.array.iterator.js","bower_components/core.js/library/modules/es6.map.js","bower_components/core.js/library/modules/es6.string.iterator.js","bower_components/core.js/library/modules/web.dom.iterable.js","src/classrepo.js","src/polyfills.js","src/utils.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","dolphin","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"onModelAdded","model","type","presentationModelType","DOLPHIN_BEAN","classRepository","registerClass","DOLPHIN_LIST_ADD_FROM_SERVER","addListEntry","getClientModelStore","deletePresentationModel","DOLPHIN_LIST_DEL_FROM_SERVER","delListEntry","DOLPHIN_LIST_SET_FROM_SERVER","setListEntry","DOLPHIN_LIST_ADD_FROM_CLIENT","DOLPHIN_LIST_DEL_FROM_CLIENT","DOLPHIN_LIST_SET_FROM_CLIENT","bean","load","handlerList","addedHandlers","get","exists","forEach","handler","allAddedHandlers","onModelRemoved","unregisterClass","unload","removedHandlers","allRemovedHandlers","Dolphin","url","config","_this","observeInterval","opendolphin","serverPush","startPushListening","ClassRepository","Map","shutdownRequested","loop","setTimeout","Platform","performMicrotaskCheckpoint","shutdown","onModelStoreChange","event","clientPresentationModel","eventType","Type","ADDED","REMOVED","connect","prototype","isManaged","create","add","addAll","collection","remove","removeAll","removeIf","predicate","onAdded","eventHandler","set","push","onRemoved","send","command","params","attributes","prop","hasOwnProperty","param","mapParamToDolphin","attribute","value","presentationModel","apply","concat","../bower_components/core.js/library/fn/map","./classrepo.js","./polyfills.js","./utils.js",2,"core","../modules/$","../modules/es6.map","../modules/es6.string.iterator","../modules/web.dom.iterable",3,"assert","condition","msg1","msg2","TypeError","$","def","assertDefined","fn","it","isFunction","obj","isObject","inst","Constructor","name","./$",4,"cof","toString","slice","TAG","classof","O","T","undefined","Object","tag","stat","has","hide","./$.wks",5,"fastKey","isFrozen","ID","id","getEntry","that","key","entry","index","O1","FIRST","k","ctx","safe","$iter","step","LAST","ITER","SIZE","DESC","getConstructor","NAME","IS_MAP","ADDER","C","iterable","forOf","mix","clear","data","p","delete","next","prev","callbackfn","arguments","v","setDesc","getIterConstructor","iterated","kind","iter","./$.assert","./$.ctx","./$.iter","./$.uid",6,"$def","assertInstance","methods","common","isWeak","fixMethod","KEY","CHAIN","method","proto","FW","b","result","Base","BUGGY","entries","buggyZero","chain","constructor","val","Infinity","G","W","F","std","./$.cof","./$.def","./$.iter-detect","./$.species",7,"assertFunction","c",8,"source","own","out","exp","isGlobal","target","S","B","P","Function",9,"path",10,"SYMBOL_ITERATOR","SAFE_CLOSING","riter","Array","from","exec","arr",11,"setIterator","FF_ITERATOR","defineIterator","DEFAULT","iterProto","getProto","Iterators","getIterator","Symbol","ext","iterator","getIter","assertObject","closeIterator","ret","stepCall","IteratorPrototype","keys","done","close","is","SYM","desc","IS_SET","FORCE","createIter","values",12,"toInteger","isNaN","floor","ceil","bitmap","enumerable","configurable","writable","simpleSet","object","createDefiner","defineProperty","Math","max","min","html","document","documentElement","toLength","toIndex","getPrototypeOf","getDesc","getOwnPropertyDescriptor","getKeys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","ES5Object","toObject","src","each","__e","__g","./$.fw",13,14,"TO_STRING","pos","String","charCodeAt","charAt",15,"uid","sid","random",16,"UNSCOPABLES",17,"store",18,"setUnscope","Arguments","./$.unscope",19,"strong","./$.collection","./$.collection-strong",20,"at","point","./$.string-at",21,"ITERATOR","ArrayValues","NodeList","./es6.array.iterator",22,"fromDolphin","beanFromDolphin","toDolphin","beanToDolphin","modifyList","count","newElements","list","isArray","splice","classes","classInfos","ObjectObserver","UNKNOWN","BASIC_TYPE","classInfo","propertyName","onValueChange","newValue","filter","Tag","oldValue","observer","open","added","removed","changed","property","findAttributeByPropertyName","setValue","element","to",23,"callback","thisArg","len","kValue","fun","res",24],"mappings":"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","file":"dolphin.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.dolphin=e()}}(function(){return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u=\"function\"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var i=\"function\"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(t){\"use strict\";function r(e,t){var n=t.presentationModelType;switch(n){case f:e.classRepository.registerClass(t);break;case l:e.classRepository.addListEntry(t),e.dolphin.getClientModelStore().deletePresentationModel(t);break;case p:e.classRepository.delListEntry(t),e.dolphin.getClientModelStore().deletePresentationModel(t);break;case d:e.classRepository.setListEntry(t),e.dolphin.getClientModelStore().deletePresentationModel(t);break;case h:case y:case v:break;default:var r=e.classRepository.load(t),o=e.addedHandlers.get(n);u(o)&&o.forEach(function(e){e(r)}),e.allAddedHandlers.forEach(function(e){e(r)})}}function o(e,t){var n=t.presentationModelType;switch(n){case f:e.classRepository.unregisterClass(t);break;case l:case p:case d:case h:case y:case v:break;default:var r=e.classRepository.unload(t);if(u(r)){var o=e.removedHandlers.get(n);u(o)&&o.forEach(function(e){e(r)}),e.allRemovedHandlers.forEach(function(e){e(r)})}}}function i(e,t){var n=this,i=50;this.dolphin=s.dolphin(e,!0,4),u(t)&&(t.serverPush&&this.dolphin.startPushListening(\"ServerPushController:longPoll\",\"ServerPushController:release\"),t.observeInterval&&(i=t.observeInterval)),this.classRepository=new c,this.addedHandlers=new a,this.removedHandlers=new a,this.allAddedHandlers=[],this.allRemovedHandlers=[];var f=!1;!function l(){setTimeout(function(){Platform.performMicrotaskCheckpoint(),f||l()},i)}(),this.shutdown=function(){f=!0},this.dolphin.getClientModelStore().onModelStoreChange(function(e){var t=e.clientPresentationModel;e.eventType===s.Type.ADDED?r(n,t):e.eventType===s.Type.REMOVED&&o(n,t)})}e(\"./polyfills.js\");var s=\"undefined\"!=typeof window?window.opendolphin:\"undefined\"!=typeof t?t.opendolphin:null,a=e(\"../bower_components/core.js/library/fn/map\"),u=e(\"./utils.js\").exists,c=e(\"./classrepo.js\").ClassRepository;n.connect=function(e,t){return new i(e,t)};var f=\"@@@ DOLPHIN_BEAN @@@\",l=\"@@@ LIST_ADD_FROM_SERVER @@@\",p=\"@@@ LIST_DEL_FROM_SERVER @@@\",d=\"@@@ LIST_SET_FROM_SERVER @@@\",h=\"@@@ LIST_ADD_FROM_CLIENT @@@\",y=\"@@@ LIST_DEL_FROM_CLIENT @@@\",v=\"@@@ LIST_SET_FROM_CLIENT @@@\";i.prototype.isManaged=function(e){throw new Error(\"Not implemented yet\")},i.prototype.create=function(e){throw new Error(\"Not implemented yet\")},i.prototype.add=function(e,t){throw new Error(\"Not implemented yet\")},i.prototype.addAll=function(e,t){throw new Error(\"Not implemented yet\")},i.prototype.remove=function(e){throw new Error(\"Not implemented yet\")},i.prototype.removeAll=function(e){throw new Error(\"Not implemented yet\")},i.prototype.removeIf=function(e){throw new Error(\"Not implemented yet\")},i.prototype.onAdded=function(e,t){if(u(t)){var n=this.addedHandlers.get(e);u(n)||(n=[],this.addedHandlers.set(e,n)),n.push(t)}else this.allAddedHandlers.push(e);return null},i.prototype.onRemoved=function(e,t){if(u(t)){var n=this.removedHandlers.get(e);u(n)||(n=[],this.removedHandlers.set(e,n)),n.push(t)}else this.allRemovedHandlers.push(e);return null},i.prototype.send=function(e,t){if(u(t)){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var o=this.classRepository.mapParamToDolphin(t[r]);n.push(this.dolphin.attribute(r,null,o.value,\"VALUE\")),n.push(this.dolphin.attribute(r,null,o.type,\"VALUE_TYPE\"))}this.dolphin.presentationModel.apply(this.dolphin,[null,\"@@@ DOLPHIN_PARAMETER @@@\"].concat(n))}return this.dolphin.send(e),null}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../bower_components/core.js/library/fn/map\":2,\"./classrepo.js\":22,\"./polyfills.js\":23,\"./utils.js\":24}],2:[function(e,t,n){e(\"../modules/es6.string.iterator\"),e(\"../modules/web.dom.iterable\"),e(\"../modules/es6.map\"),t.exports=e(\"../modules/$\").core.Map},{\"../modules/$\":12,\"../modules/es6.map\":19,\"../modules/es6.string.iterator\":20,\"../modules/web.dom.iterable\":21}],3:[function(e,t,n){function r(e,t,n){if(!e)throw TypeError(n?t+n:t)}var o=e(\"./$\");r.def=o.assertDefined,r.fn=function(e){if(!o.isFunction(e))throw TypeError(e+\" is not a function!\");return e},r.obj=function(e){if(!o.isObject(e))throw TypeError(e+\" is not an object!\");return e},r.inst=function(e,t,n){if(!(e instanceof t))throw TypeError(n+\": use the 'new' operator!\");return e},t.exports=r},{\"./$\":12}],4:[function(e,t,n){function r(e){return s.call(e).slice(8,-1)}var o=e(\"./$\"),i=e(\"./$.wks\")(\"toStringTag\"),s={}.toString;r.classof=function(e){var t,n;return void 0==e?void 0===e?\"Undefined\":\"Null\":\"string\"==typeof(n=(t=Object(e))[i])?n:r(t)},r.set=function(e,t,n){e&&!o.has(e=n?e:e.prototype,i)&&o.hide(e,i,t)},t.exports=r},{\"./$\":12,\"./$.wks\":17}],5:[function(e,t,n){\"use strict\";function r(e,t){if(!p(e))return(\"string\"==typeof e?\"S\":\"P\")+e;if(y(e))return\"F\";if(!f(e,v)){if(!t)return\"E\";d(e,v,++E)}return\"O\"+e[v]}function o(e,t){var n,o=r(t);if(\"F\"!=o)return e[m][o];for(n=e[b];n;n=n.n)if(n.k==t)return n}var i=e(\"./$\"),s=e(\"./$.ctx\"),a=e(\"./$.uid\").safe,u=e(\"./$.assert\"),c=e(\"./$.iter\"),f=i.has,l=i.set,p=i.isObject,d=i.hide,h=c.step,y=Object.isFrozen||i.core.Object.isFrozen,v=a(\"id\"),m=a(\"O1\"),w=a(\"last\"),b=a(\"first\"),g=a(\"iter\"),$=i.DESC?a(\"size\"):\"size\",E=0;t.exports={getConstructor:function(e,t,n){function r(o){var s=u.inst(this,r,e);l(s,m,i.create(null)),l(s,$,0),l(s,w,void 0),l(s,b,void 0),void 0!=o&&c.forOf(o,t,s[n],s)}return i.mix(r.prototype,{clear:function(){for(var e=this,t=e[m],n=e[b];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e[b]=e[w]=void 0,e[$]=0},\"delete\":function(e){var t=this,n=o(t,e);if(n){var r=n.n,i=n.p;delete t[m][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[b]==n&&(t[b]=r),t[w]==n&&(t[w]=i),t[$]--}return!!n},forEach:function(e){for(var t,n=s(e,arguments[1],3);t=t?t.n:this[b];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(this,e)}}),i.DESC&&i.setDesc(r.prototype,\"size\",{get:function(){return u.def(this[$])}}),r},def:function(e,t,n){var i,s,a=o(e,t);return a?a.v=n:(e[w]=a={i:s=r(t,!0),k:t,v:n,p:i=e[w],n:void 0,r:!1},e[b]||(e[b]=a),i&&(i.n=a),e[$]++,\"F\"!=s&&(e[m][s]=a)),e},getEntry:o,getIterConstructor:function(){return function(e,t){l(this,g,{o:e,k:t})}},next:function(){for(var e=this[g],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[b])?\"key\"==t?h(0,n.k):\"value\"==t?h(0,n.v):h(0,[n.k,n.v]):(e.o=void 0,h(1))}}},{\"./$\":12,\"./$.assert\":3,\"./$.ctx\":7,\"./$.iter\":11,\"./$.uid\":15}],6:[function(e,t,n){\"use strict\";var r=e(\"./$\"),o=e(\"./$.def\"),i=e(\"./$.iter\"),s=e(\"./$.assert\").inst;t.exports=function(t,n,a,u,c){function f(e,t){var n=h[e];r.FW&&(h[e]=function(e,r){var o=n.call(this,0===e?0:e,r);return t?this:o})}var l=r.g[t],p=l,d=u?\"set\":\"add\",h=p&&p.prototype,y={};if(r.isFunction(p)&&(c||!i.BUGGY&&h.forEach&&h.entries)){var v,m=new p,w=m[d](c?{}:-0,1);e(\"./$.iter-detect\")(function(e){new p(e)})||(p=function(e){s(this,p,t);var n=new l;return void 0!=e&&i.forOf(e,u,n[d],n),n},p.prototype=h,r.FW&&(h.constructor=p)),c||m.forEach(function(e,t){v=1/t===-(1/0)}),v&&(f(\"delete\"),f(\"has\"),u&&f(\"get\")),(v||w!==m)&&f(d,!0)}else p=a.getConstructor(t,u,d),r.mix(p.prototype,n);return e(\"./$.cof\").set(p,t),e(\"./$.species\")(p),y[t]=p,o(o.G+o.W+o.F*(p!=l),y),c||i.std(p,t,a.getIterConstructor(),a.next,u?\"key+value\":\"value\",!u,!0),p}},{\"./$\":12,\"./$.assert\":3,\"./$.cof\":4,\"./$.def\":8,\"./$.iter\":11,\"./$.iter-detect\":10,\"./$.species\":13}],7:[function(e,t,n){var r=e(\"./$.assert\").fn;t.exports=function(e,t,n){if(r(e),~n&&void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{\"./$.assert\":3}],8:[function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,n){var c,f,l,p,d=e&o.G,h=d?s:e&o.S?s[t]:(s[t]||{}).prototype,y=d?a:a[t]||(a[t]={});d&&(n=t);for(c in n)f=!(e&o.F)&&h&&c in h,f&&c in y||(l=f?h[c]:n[c],d&&!u(h[c])?p=n[c]:e&o.B&&f?p=r(l,s):e&o.W&&h[c]==l?!function(e){p=function(t){return this instanceof e?new e(t):e(t)},p.prototype=e.prototype}(l):p=e&o.P&&u(l)?r(Function.call,l):l,i.hide(y,c,p))}var i=e(\"./$\"),s=i.g,a=i.core,u=i.isFunction;o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{\"./$\":12}],9:[function(e,t,n){t.exports=function(e){return e.FW=!1,e.path=e.core,e}},{}],10:[function(e,t,n){var r=e(\"./$.wks\")(\"iterator\"),o=!1;try{var i=[7][r]();i[\"return\"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],i=n[r]();i.next=function(){t=!0},n[r]=function(){return i},e(n)}catch(s){}return t}},{\"./$.wks\":17}],11:[function(e,t,n){\"use strict\";function r(e,t){u.hide(e,d,t),h in[]&&u.hide(e,h,t)}function o(e,t,n,o){var i=e.prototype,s=i[d]||i[h]||o&&i[o]||n;if(u.FW&&r(i,s),s!==n){var a=u.getProto(s.call(new e));f.set(a,t+\" Iterator\",!0),u.FW&&u.has(i,h)&&r(a,u.that)}return y[t]=s,y[t+\" Iterator\"]=u.that,s}function i(e){var t=u.g.Symbol,n=e[t&&t.iterator||h],r=n||e[d]||y[f.classof(e)];return p(r.call(e))}function s(e){var t=e[\"return\"];void 0!==t&&p(t.call(e))}function a(e,t,n,r){try{return r?t(p(n)[0],n[1]):t(n)}catch(o){throw s(e),o}}var u=e(\"./$\"),c=e(\"./$.ctx\"),f=e(\"./$.cof\"),l=e(\"./$.def\"),p=e(\"./$.assert\").obj,d=e(\"./$.wks\")(\"iterator\"),h=\"@@iterator\",y={},v={},m=\"keys\"in[]&&!(\"next\"in[].keys());r(v,u.that);var w=t.exports={BUGGY:m,Iterators:y,prototype:v,step:function(e,t){return{value:t,done:!!e}},stepCall:a,close:s,is:function(e){var t=Object(e),n=u.g.Symbol,r=n&&n.iterator||h;return r in t||d in t||u.has(y,f.classof(t))},get:i,set:r,create:function(e,t,n,r){e.prototype=u.create(r||w.prototype,{next:u.desc(1,n)}),f.set(e,t+\" Iterator\")},define:o,std:function(e,t,n,r,i,s,a){function c(e){return function(){return new n(this,e)}}w.create(n,t,r);var f,p,d=c(\"key+value\"),h=c(\"value\"),y=e.prototype;if(\"value\"==i?h=o(e,t,h,\"values\"):d=o(e,t,d,\"entries\"),i&&(f={entries:d,keys:s?h:c(\"key\"),values:h},l(l.P+l.F*m,t,f),a))for(p in f)p in y||u.hide(y,p,f[p])},forOf:function(e,t,n,r){for(var o,u=i(e),f=c(n,r,t?2:1);!(o=u.next()).done;)if(a(u,f,o.value,t)===!1)return s(u)}}},{\"./$\":12,\"./$.assert\":3,\"./$.cof\":4,\"./$.ctx\":7,\"./$.def\":8,\"./$.wks\":17}],12:[function(e,t,n){\"use strict\";function r(e){return isNaN(e=+e)?0:(e>0?y:h)(e)}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function i(e,t,n){return e[t]=n,e}function s(e){return w?function(t,n,r){return g.setDesc(t,n,o(e,r))}:i}function a(e){return null!==e&&(\"object\"==typeof e||\"function\"==typeof e)}function u(e){return\"function\"==typeof e}function c(e){if(void 0==e)throw TypeError(\"Can't call method on  \"+e);return e}var f=\"undefined\"!=typeof self?self:Function(\"return this\")(),l={},p=Object.defineProperty,d={}.hasOwnProperty,h=Math.ceil,y=Math.floor,v=Math.max,m=Math.min,w=!!function(){try{return 2==p({},\"a\",{get:function(){return 2}}).a}catch(e){}}(),b=s(1),g=t.exports=e(\"./$.fw\")({g:f,core:l,html:f.document&&document.documentElement,isObject:a,isFunction:u,it:function(e){return e},that:function(){return this},toInteger:r,toLength:function(e){return e>0?m(r(e),9007199254740991):0},toIndex:function(e,t){return e=r(e),0>e?v(e+t,0):m(e,t)},has:function(e,t){return d.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:w,desc:o,getDesc:Object.getOwnPropertyDescriptor,setDesc:p,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(e){return g.ES5Object(c(e))},hide:b,def:s(0),set:f.Symbol?i:b,mix:function(e,t){for(var n in t)b(e,n,t[n]);return e},each:[].forEach});\"undefined\"!=typeof __e&&(__e=l),\"undefined\"!=typeof __g&&(__g=f)},{\"./$.fw\":9}],13:[function(e,t,n){var r=e(\"./$\");t.exports=function(t){r.DESC&&r.FW&&r.setDesc(t,e(\"./$.wks\")(\"species\"),{configurable:!0,get:r.that})}},{\"./$\":12,\"./$.wks\":17}],14:[function(e,t,n){\"use strict\";var r=e(\"./$\");t.exports=function(e){return function(t){var n,o,i=String(r.assertDefined(this)),s=r.toInteger(t),a=i.length;return 0>s||s>=a?e?\"\":void 0:(n=i.charCodeAt(s),55296>n||n>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?e?i.charAt(s):n:e?i.slice(s,s+2):(n-55296<<10)+(o-56320)+65536)}}},{\"./$\":12}],15:[function(e,t,n){function r(e){return\"Symbol(\"+e+\")_\"+(++o+Math.random()).toString(36)}var o=0;r.safe=e(\"./$\").g.Symbol||r,t.exports=r},{\"./$\":12}],16:[function(e,t,n){var r=e(\"./$\"),o=e(\"./$.wks\")(\"unscopables\");!r.FW||o in[]||r.hide(Array.prototype,o,{}),t.exports=function(e){r.FW&&([][o][e]=!0)}},{\"./$\":12,\"./$.wks\":17}],17:[function(e,t,n){var r=e(\"./$\").g,o={};t.exports=function(t){return o[t]||(o[t]=r.Symbol&&r.Symbol[t]||e(\"./$.uid\").safe(\"Symbol.\"+t))}},{\"./$\":12,\"./$.uid\":15}],18:[function(e,t,n){var r=e(\"./$\"),o=e(\"./$.unscope\"),i=e(\"./$.uid\").safe(\"iter\"),s=e(\"./$.iter\"),a=s.step,u=s.Iterators;s.std(Array,\"Array\",function(e,t){r.set(this,i,{o:r.toObject(e),i:0,k:t})},function(){var e=this[i],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=void 0,a(1)):\"key\"==n?a(0,r):\"value\"==n?a(0,t[r]):a(0,[r,t[r]])},\"value\"),u.Arguments=u.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},{\"./$\":12,\"./$.iter\":11,\"./$.uid\":15,\"./$.unscope\":16}],19:[function(e,t,n){\"use strict\";var r=e(\"./$.collection-strong\");e(\"./$.collection\")(\"Map\",{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{\"./$.collection\":6,\"./$.collection-strong\":5}],20:[function(e,t,n){var r=e(\"./$\").set,o=e(\"./$.string-at\")(!0),i=e(\"./$.uid\").safe(\"iter\"),s=e(\"./$.iter\"),a=s.step;s.std(String,\"String\",function(e){r(this,i,{o:String(e),i:0})},function(){var e,t=this[i],n=t.o,r=t.i;return r>=n.length?a(1):(e=o.call(n,r),t.i+=e.length,a(0,e))})},{\"./$\":12,\"./$.iter\":11,\"./$.string-at\":14,\"./$.uid\":15}],21:[function(e,t,n){e(\"./es6.array.iterator\");var r=e(\"./$\"),o=e(\"./$.iter\").Iterators,i=e(\"./$.wks\")(\"iterator\"),s=o.Array,a=r.g.NodeList;!r.FW||!a||i in a.prototype||r.hide(a.prototype,i,s),o.NodeList=s},{\"./$\":12,\"./$.iter\":11,\"./$.wks\":17,\"./es6.array.iterator\":18}],22:[function(e,t,n){(function(t){\"use strict\";function r(e,t,n){return t===d?e.beanFromDolphin.get(n):n}function o(e,t,n){return t===d?e.beanToDolphin.get(n):n}function i(e,t,n,r,o){var i=e[t];f(i)?Array.isArray(i)||(e[t]=i=[i]):e[t]=i=[],\"undefined\"==typeof o?i.splice(n,r):i.splice(n,r,o)}function s(){this.classes=new c,this.beanFromDolphin=new c,this.beanToDolphin=new c,this.classInfos=new c}e(\"./polyfills.js\");var a=\"undefined\"!=typeof window?window.opendolphin:\"undefined\"!=typeof t?t.opendolphin:null,u=\"undefined\"!=typeof window?window.ObjectObserver:\"undefined\"!=typeof t?t.ObjectObserver:null,c=e(\"../bower_components/core.js/library/fn/map\"),f=e(\"./utils.js\").exists,l=0,p=1,d=2;s.prototype.registerClass=function(e){if(!this.classes.has(e.id)){var t={};e.attributes.forEach(function(e){t[e.propertyName]=l,e.onValueChange(function(n){t[e.propertyName]=n.newValue})}),this.classes.set(e.id,t)}},s.prototype.unregisterClass=function(e){this.classes[\"delete\"](e.id)},s.prototype.load=function(e){var t=this,n=this.classes.get(e.presentationModelType),i={};e.attributes.filter(function(e){return e.tag===a.Tag.value()}).forEach(function(e){i[e.propertyName]=null,e.onValueChange(function(o){o.oldValue!==o.newValue&&(i[e.propertyName]=r(t,n[e.propertyName],o.newValue))})});var s=new u(i);return s.open(function(r,i,s){Object.keys(r).forEach(function(i){var s=e.findAttributeByPropertyName(i);if(f(s)){var a=o(t,n[i],r[i]);s.setValue(a)}}),Object.keys(i).forEach(function(t){var n=e.findAttributeByPropertyName(t);f(n)&&n.setValue(null)}),Object.keys(s).forEach(function(r){var i=e.findAttributeByPropertyName(r);if(f(i)){var a=o(t,n[r],s[r]);i.setValue(a)}})}),this.beanFromDolphin.set(e.id,i),this.beanToDolphin.set(i,e.id),this.classInfos.set(e.id,n),i},s.prototype.unload=function(e){var t=this.beanFromDolphin.get(e.id);return this.beanFromDolphin[\"delete\"](e.id),this.beanToDolphin[\"delete\"](t),this.classInfos[\"delete\"](e.id),t},s.prototype.addListEntry=function(e){var t=e.findAttributeByPropertyName(\"source\"),n=e.findAttributeByPropertyName(\"attribute\"),o=e.findAttributeByPropertyName(\"pos\"),s=e.findAttributeByPropertyName(\"element\");if(!(f(t)&&f(n)&&f(o)&&f(s)))throw new Error(\"Invalid list modification update received\");var a=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!f(u)||!f(a))throw new Error(\"Invalid list modification update received. Source bean unknown.\");var c=r(this,a[n.value],s.value);i(u,n.value,o.value,0,c)},s.prototype.delListEntry=function(e){var t=e.findAttributeByPropertyName(\"source\"),n=e.findAttributeByPropertyName(\"attribute\"),r=e.findAttributeByPropertyName(\"from\"),o=e.findAttributeByPropertyName(\"to\");if(!(f(t)&&f(n)&&f(r)&&f(o)))throw new Error(\"Invalid list modification update received\");var s=this.beanFromDolphin.get(t.value);if(!f(s))throw new Error(\"Invalid list modification update received. Source bean unknown.\");i(s,n.value,r.value,o.value-r.value)},s.prototype.setListEntry=function(e){var t=e.findAttributeByPropertyName(\"source\"),n=e.findAttributeByPropertyName(\"attribute\"),o=e.findAttributeByPropertyName(\"pos\"),s=e.findAttributeByPropertyName(\"element\");if(!(f(t)&&f(n)&&f(o)&&f(s)))throw new Error(\"Invalid list modification update received\");var a=this.classInfos.get(t.value),u=this.beanFromDolphin.get(t.value);if(!f(u)||!f(a))throw new Error(\"Invalid list modification update received. Source bean unknown.\");var c=r(this,a[n.value],s.value);i(u,n.value,o.value,1,c)},s.prototype.mapParamToDolphin=function(e){if(!f(e))return{value:e,type:l};var t=typeof e;if(\"object\"===t){var n=this.beanToDolphin.get(e);if(f(n))return{value:n,type:d};throw new TypeError(\"Only managed Dolphin Beans can be used\")}if(\"string\"===t||\"number\"===t||\"boolean\"===t)return{value:e,type:p};throw new TypeError(\"Only managed Dolphin Beans and primitive types can be used\")},n.ClassRepository=s,n.UNKNOWN=l,n.BASIC_TYPE=p,n.DOLPHIN_BEAN=d}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../bower_components/core.js/library/fn/map\":2,\"./polyfills.js\":23,\"./utils.js\":24}],23:[function(e,t,n){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(\" this is null or not defined\");var o=Object(this),i=o.length>>>0;if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");for(arguments.length>1&&(n=t),r=0;i>r;){var s;r in o&&(s=o[r],e.call(n,s,r,o)),r++}}),Array.prototype.filter||(Array.prototype.filter=function(e){\"use strict\";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;n>i;i++)if(i in t){var s=t[i];e.call(o,s,i,t)&&r.push(s)}return r})},{}],24:[function(e,t,n){\"use strict\";t.exports.exists=function(e){return\"undefined\"!=typeof e&&null!==e}},{}]},{},[1])(1)});\n//# sourceMappingURL=dolphin.min.js.map","/*jslint browserify: true */\n/* global Platform */\n\"use strict\";\n\nrequire('./polyfills.js');\nvar opendolphin = (typeof window !== \"undefined\" ? window.opendolphin : typeof global !== \"undefined\" ? global.opendolphin : null);\nvar Map  = require('../bower_components/core.js/library/fn/map');\n\nvar exists = require('./utils.js').exists;\nvar ClassRepository = require('./classrepo.js').ClassRepository;\n\n\nexports.connect = function(url, config) {\n    return new Dolphin(url, config);\n};\n\n\nvar DOLPHIN_BEAN = '@@@ DOLPHIN_BEAN @@@';\nvar DOLPHIN_LIST_ADD_FROM_SERVER = '@@@ LIST_ADD_FROM_SERVER @@@';\nvar DOLPHIN_LIST_DEL_FROM_SERVER = '@@@ LIST_DEL_FROM_SERVER @@@';\nvar DOLPHIN_LIST_SET_FROM_SERVER = '@@@ LIST_SET_FROM_SERVER @@@';\nvar DOLPHIN_LIST_ADD_FROM_CLIENT = '@@@ LIST_ADD_FROM_CLIENT @@@';\nvar DOLPHIN_LIST_DEL_FROM_CLIENT = '@@@ LIST_DEL_FROM_CLIENT @@@';\nvar DOLPHIN_LIST_SET_FROM_CLIENT = '@@@ LIST_SET_FROM_CLIENT @@@';\n\n\nfunction onModelAdded(dolphin, model) {\n    var type = model.presentationModelType;\n    switch (type) {\n        case DOLPHIN_BEAN:\n            dolphin.classRepository.registerClass(model);\n            break;\n        case DOLPHIN_LIST_ADD_FROM_SERVER:\n            dolphin.classRepository.addListEntry(model);\n            dolphin.dolphin.getClientModelStore().deletePresentationModel(model);\n            break;\n        case DOLPHIN_LIST_DEL_FROM_SERVER:\n            dolphin.classRepository.delListEntry(model);\n            dolphin.dolphin.getClientModelStore().deletePresentationModel(model);\n            break;\n        case DOLPHIN_LIST_SET_FROM_SERVER:\n            dolphin.classRepository.setListEntry(model);\n            dolphin.dolphin.getClientModelStore().deletePresentationModel(model);\n            break;\n        case DOLPHIN_LIST_ADD_FROM_CLIENT:\n        case DOLPHIN_LIST_DEL_FROM_CLIENT:\n        case DOLPHIN_LIST_SET_FROM_CLIENT:\n            // do nothing\n            break;\n        default:\n            var bean = dolphin.classRepository.load(model);\n            var handlerList = dolphin.addedHandlers.get(type);\n            if (exists(handlerList)) {\n                handlerList.forEach(function(handler) {\n                    handler(bean);\n                });\n            }\n            dolphin.allAddedHandlers.forEach(function(handler) {\n                handler(bean);\n            });\n            break;\n    }\n}\n\nfunction onModelRemoved(dolphin, model) {\n    var type = model.presentationModelType;\n    switch (type) {\n        case DOLPHIN_BEAN:\n            dolphin.classRepository.unregisterClass(model);\n            break;\n        case DOLPHIN_LIST_ADD_FROM_SERVER:\n        case DOLPHIN_LIST_DEL_FROM_SERVER:\n        case DOLPHIN_LIST_SET_FROM_SERVER:\n        case DOLPHIN_LIST_ADD_FROM_CLIENT:\n        case DOLPHIN_LIST_DEL_FROM_CLIENT:\n        case DOLPHIN_LIST_SET_FROM_CLIENT:\n            // do nothing\n            break;\n        default:\n            var bean = dolphin.classRepository.unload(model);\n            if (exists(bean)) {\n                var handlerList = dolphin.removedHandlers.get(type);\n                if (exists(handlerList)) {\n                    handlerList.forEach(function(handler) {\n                        handler(bean);\n                    });\n                }\n                dolphin.allRemovedHandlers.forEach(function(handler) {\n                    handler(bean);\n                });\n            }\n            break;\n    }\n\n}\n\n\n\nfunction Dolphin(url, config) {\n    var _this = this;\n    var observeInterval = 50;\n    this.dolphin = opendolphin.dolphin(url, true, 4);\n    if (exists(config)) {\n        if (config.serverPush) {\n            this.dolphin.startPushListening('ServerPushController:longPoll', 'ServerPushController:release');\n        }\n        if (config.observeInterval) {\n            observeInterval = config.observeInterval;\n        }\n    }\n    this.classRepository = new ClassRepository();\n    this.addedHandlers = new Map();\n    this.removedHandlers = new Map();\n    this.allAddedHandlers = [];\n    this.allRemovedHandlers = [];\n\n    var shutdownRequested = false;\n    (function loop(){\n        setTimeout(function(){\n            Platform.performMicrotaskCheckpoint();\n            if (!shutdownRequested) {\n                loop();\n            }\n        }, observeInterval);\n    })();\n    this.shutdown = function() {\n        shutdownRequested = true;\n    };\n\n    this.dolphin.getClientModelStore().onModelStoreChange(function (event) {\n        var model = event.clientPresentationModel;\n        if (event.eventType === opendolphin.Type.ADDED) {\n            onModelAdded(_this, model);\n        } else if (event.eventType === opendolphin.Type.REMOVED) {\n            onModelRemoved(_this, model);\n        }\n    });\n}\n\n\nDolphin.prototype.isManaged = function(bean) {\n    // TODO: Implement dolphin.isManaged() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.create = function(type) {\n    // TODO: Implement dolphin.create() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.add = function(type, bean) {\n    // TODO: Implement dolphin.add() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.addAll = function(type, collection) {\n    // TODO: Implement dolphin.addAll() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.remove = function(bean) {\n    // TODO: Implement dolphin.remove() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.removeAll = function(collection) {\n    // TODO: Implement dolphin.removeAll() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.removeIf = function(predicate) {\n    // TODO: Implement dolphin.removeIf() [DP-7]\n    throw new Error(\"Not implemented yet\");\n};\n\n\nDolphin.prototype.onAdded = function(type, eventHandler) {\n    // TODO: Probably safer to use copy-on-write here [DP-6]\n    if (!exists(eventHandler)) {\n        this.allAddedHandlers.push(type);\n    } else {\n        var handlerList = this.addedHandlers.get(type);\n        if (!exists(handlerList)) {\n            handlerList = [];\n            this.addedHandlers.set(type, handlerList);\n        }\n        handlerList.push(eventHandler);\n    }\n\n    // TODO: Return subscription [DP-6]\n    return null;\n};\n\n\nDolphin.prototype.onRemoved = function(type, eventHandler) {\n    // TODO: Probably safer to use copy-on-write here [DP-6]\n    if (!exists(eventHandler)) {\n        this.allRemovedHandlers.push(type);\n    } else {\n        var handlerList = this.removedHandlers.get(type);\n        if (!exists(handlerList)) {\n            handlerList = [];\n            this.removedHandlers.set(type, handlerList);\n        }\n        handlerList.push(eventHandler);\n    }\n\n    // TODO: Return subscription [DP-6]\n    return null;\n};\n\n\nDolphin.prototype.send = function(command, params) {\n    if (exists(params)) {\n        var attributes = [];\n        for (var prop in params) {\n            if (params.hasOwnProperty(prop)) {\n                var param = this.classRepository.mapParamToDolphin(params[prop]);\n                attributes.push(this.dolphin.attribute(prop, null, param.value, 'VALUE'));\n                attributes.push(this.dolphin.attribute(prop, null, param.type, 'VALUE_TYPE'));\n            }\n        }\n        this.dolphin.presentationModel.apply(this.dolphin, [null, '@@@ DOLPHIN_PARAMETER @@@'].concat(attributes));\n    }\n    this.dolphin.send(command);\n\n    // TODO: Return promise [DP-8]\n    return null;\n};\n","require('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nmodule.exports = require('../modules/$').core.Map;","var $ = require('./$');\nfunction assert(condition, msg1, msg2){\n  if(!condition)throw TypeError(msg2 ? msg1 + msg2 : msg1);\n}\nassert.def = $.assertDefined;\nassert.fn = function(it){\n  if(!$.isFunction(it))throw TypeError(it + ' is not a function!');\n  return it;\n};\nassert.obj = function(it){\n  if(!$.isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\nassert.inst = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};\nmodule.exports = assert;","var $        = require('./$')\n  , TAG      = require('./$.wks')('toStringTag')\n  , toString = {}.toString;\nfunction cof(it){\n  return toString.call(it).slice(8, -1);\n}\ncof.classof = function(it){\n  var O, T;\n  return it == undefined ? it === undefined ? 'Undefined' : 'Null'\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T : cof(O);\n};\ncof.set = function(it, tag, stat){\n  if(it && !$.has(it = stat ? it : it.prototype, TAG))$.hide(it, TAG, tag);\n};\nmodule.exports = cof;","'use strict';\nvar $        = require('./$')\n  , ctx      = require('./$.ctx')\n  , safe     = require('./$.uid').safe\n  , assert   = require('./$.assert')\n  , $iter    = require('./$.iter')\n  , has      = $.has\n  , set      = $.set\n  , isObject = $.isObject\n  , hide     = $.hide\n  , step     = $iter.step\n  , isFrozen = Object.isFrozen || $.core.Object.isFrozen\n  , ID       = safe('id')\n  , O1       = safe('O1')\n  , LAST     = safe('last')\n  , FIRST    = safe('first')\n  , ITER     = safe('iter')\n  , SIZE     = $.DESC ? safe('size') : 'size'\n  , id       = 0;\n\nfunction fastKey(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return (typeof it == 'string' ? 'S' : 'P') + it;\n  // can't set id to frozen object\n  if(isFrozen(it))return 'F';\n  if(!has(it, ID)){\n    // not necessary to add id\n    if(!create)return 'E';\n    // add missing object id\n    hide(it, ID, ++id);\n  // return object id with prefix\n  } return 'O' + it[ID];\n}\n\nfunction getEntry(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index != 'F')return that[O1][index];\n  // frozen object case\n  for(entry = that[FIRST]; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n}\n\nmodule.exports = {\n  getConstructor: function(NAME, IS_MAP, ADDER){\n    function C(iterable){\n      var that = assert.inst(this, C, NAME);\n      set(that, O1, $.create(null));\n      set(that, SIZE, 0);\n      set(that, LAST, undefined);\n      set(that, FIRST, undefined);\n      if(iterable != undefined)$iter.forOf(iterable, IS_MAP, that[ADDER], that);\n    }\n    $.mix(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that[O1], entry = that[FIRST]; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that[FIRST] = that[LAST] = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that[O1][entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that[FIRST] == entry)that[FIRST] = next;\n          if(that[LAST] == entry)that[LAST] = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        var f = ctx(callbackfn, arguments[1], 3)\n          , entry;\n        while(entry = entry ? entry.n : this[FIRST]){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if($.DESC)$.setDesc(C.prototype, 'size', {\n      get: function(){\n        return assert.def(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that[LAST] = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that[LAST],          // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that[FIRST])that[FIRST] = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index != 'F')that[O1][index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  getIterConstructor: function(){\n    return function(iterated, kind){\n      set(this, ITER, {o: iterated, k: kind});\n    };\n  },\n  next: function(){\n    var iter  = this[ITER]\n      , kind  = iter.k\n      , entry = iter.l;\n    // revert to the last existing entry\n    while(entry && entry.r)entry = entry.p;\n    // get next entry\n    if(!iter.o || !(iter.l = entry = entry ? entry.n : iter.o[FIRST])){\n      // or finish the iteration\n      iter.o = undefined;\n      return step(1);\n    }\n    // return step by kind\n    if(kind == 'key'  )return step(0, entry.k);\n    if(kind == 'value')return step(0, entry.v);\n    return step(0, [entry.k, entry.v]);\n  }\n};","'use strict';\nvar $     = require('./$')\n  , $def  = require('./$.def')\n  , $iter = require('./$.iter')\n  , assertInstance = require('./$.assert').inst;\n\nmodule.exports = function(NAME, methods, common, IS_MAP, isWeak){\n  var Base  = $.g[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  function fixMethod(KEY, CHAIN){\n    var method = proto[KEY];\n    if($.FW)proto[KEY] = function(a, b){\n      var result = method.call(this, a === 0 ? 0 : a, b);\n      return CHAIN ? this : result;\n    };\n  }\n  if(!$.isFunction(C) || !(isWeak || !$iter.BUGGY && proto.forEach && proto.entries)){\n    // create collection constructor\n    C = common.getConstructor(NAME, IS_MAP, ADDER);\n    $.mix(C.prototype, methods);\n  } else {\n    var inst  = new C\n      , chain = inst[ADDER](isWeak ? {} : -0, 1)\n      , buggyZero;\n    // wrap for init collections from iterable\n    if(!require('./$.iter-detect')(function(iter){ new C(iter); })){ // eslint-disable-line no-new\n      C = function(iterable){\n        assertInstance(this, C, NAME);\n        var that = new Base;\n        if(iterable != undefined)$iter.forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      };\n      C.prototype = proto;\n      if($.FW)proto.constructor = C;\n    }\n    isWeak || inst.forEach(function(val, key){\n      buggyZero = 1 / key === -Infinity;\n    });\n    // fix converting -0 key to +0\n    if(buggyZero){\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    // + fix .add & .set for chaining\n    if(buggyZero || chain !== inst)fixMethod(ADDER, true);\n  }\n\n  require('./$.cof').set(C, NAME);\n  require('./$.species')(C);\n\n  O[NAME] = C;\n  $def($def.G + $def.W + $def.F * (C != Base), O);\n\n  // add .keys, .values, .entries, [@@iterator]\n  // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n  if(!isWeak)$iter.std(\n    C, NAME,\n    common.getIterConstructor(), common.next,\n    IS_MAP ? 'key+value' : 'value' , !IS_MAP, true\n  );\n\n  return C;\n};","// Optional / simple context binding\nvar assertFunction = require('./$.assert').fn;\nmodule.exports = function(fn, that, length){\n  assertFunction(fn);\n  if(~length && that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  } return function(/* ...args */){\n      return fn.apply(that, arguments);\n    };\n};","var $          = require('./$')\n  , global     = $.g\n  , core       = $.core\n  , isFunction = $.isFunction;\nfunction ctx(fn, that){\n  return function(){\n    return fn.apply(that, arguments);\n  };\n}\n// type bitmap\n$def.F = 1;  // forced\n$def.G = 2;  // global\n$def.S = 4;  // static\n$def.P = 8;  // proto\n$def.B = 16; // bind\n$def.W = 32; // wrap\nfunction $def(type, name, source){\n  var key, own, out, exp\n    , isGlobal = type & $def.G\n    , target   = isGlobal ? global : type & $def.S\n        ? global[name] : (global[name] || {}).prototype\n    , exports  = isGlobal ? core : core[name] || (core[name] = {});\n  if(isGlobal)source = name;\n  for(key in source){\n    // contains in native\n    own = !(type & $def.F) && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    if(isGlobal && !isFunction(target[key]))exp = source[key];\n    // bind timers to global for call from export context\n    else if(type & $def.B && own)exp = ctx(out, global);\n    // wrap global constructors for prevent change them in library\n    else if(type & $def.W && target[key] == out)!function(C){\n      exp = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      exp.prototype = C.prototype;\n    }(out);\n    else exp = type & $def.P && isFunction(out) ? ctx(Function.call, out) : out;\n    // export\n    $.hide(exports, key, exp);\n  }\n}\nmodule.exports = $def;","module.exports = function($){\n  $.FW   = false;\n  $.path = $.core;\n  return $;\n};","var SYMBOL_ITERATOR = require('./$.wks')('iterator')\n  , SAFE_CLOSING    = false;\ntry {\n  var riter = [7][SYMBOL_ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\nmodule.exports = function(exec){\n  if(!SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[SYMBOL_ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[SYMBOL_ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};","'use strict';\nvar $                 = require('./$')\n  , ctx               = require('./$.ctx')\n  , cof               = require('./$.cof')\n  , $def              = require('./$.def')\n  , assertObject      = require('./$.assert').obj\n  , SYMBOL_ITERATOR   = require('./$.wks')('iterator')\n  , FF_ITERATOR       = '@@iterator'\n  , Iterators         = {}\n  , IteratorPrototype = {};\n// Safari has byggy iterators w/o `next`\nvar BUGGY = 'keys' in [] && !('next' in [].keys());\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nsetIterator(IteratorPrototype, $.that);\nfunction setIterator(O, value){\n  $.hide(O, SYMBOL_ITERATOR, value);\n  // Add iterator for FF iterator protocol\n  if(FF_ITERATOR in [])$.hide(O, FF_ITERATOR, value);\n}\nfunction defineIterator(Constructor, NAME, value, DEFAULT){\n  var proto = Constructor.prototype\n    , iter  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT] || value;\n  // Define iterator\n  if($.FW)setIterator(proto, iter);\n  if(iter !== value){\n    var iterProto = $.getProto(iter.call(new Constructor));\n    // Set @@toStringTag to native iterators\n    cof.set(iterProto, NAME + ' Iterator', true);\n    // FF fix\n    if($.FW)$.has(proto, FF_ITERATOR) && setIterator(iterProto, $.that);\n  }\n  // Plug for library\n  Iterators[NAME] = iter;\n  // FF & v8 fix\n  Iterators[NAME + ' Iterator'] = $.that;\n  return iter;\n}\nfunction getIterator(it){\n  var Symbol  = $.g.Symbol\n    , ext     = it[Symbol && Symbol.iterator || FF_ITERATOR]\n    , getIter = ext || it[SYMBOL_ITERATOR] || Iterators[cof.classof(it)];\n  return assertObject(getIter.call(it));\n}\nfunction closeIterator(iterator){\n  var ret = iterator['return'];\n  if(ret !== undefined)assertObject(ret.call(iterator));\n}\nfunction stepCall(iterator, fn, value, entries){\n  try {\n    return entries ? fn(assertObject(value)[0], value[1]) : fn(value);\n  } catch(e){\n    closeIterator(iterator);\n    throw e;\n  }\n}\nvar $iter = module.exports = {\n  BUGGY: BUGGY,\n  Iterators: Iterators,\n  prototype: IteratorPrototype,\n  step: function(done, value){\n    return {value: value, done: !!done};\n  },\n  stepCall: stepCall,\n  close: closeIterator,\n  is: function(it){\n    var O      = Object(it)\n      , Symbol = $.g.Symbol\n      , SYM    = Symbol && Symbol.iterator || FF_ITERATOR;\n    return SYM in O || SYMBOL_ITERATOR in O || $.has(Iterators, cof.classof(O));\n  },\n  get: getIterator,\n  set: setIterator,\n  create: function(Constructor, NAME, next, proto){\n    Constructor.prototype = $.create(proto || $iter.prototype, {next: $.desc(1, next)});\n    cof.set(Constructor, NAME + ' Iterator');\n  },\n  define: defineIterator,\n  std: function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){\n    function createIter(kind){\n      return function(){\n        return new Constructor(this, kind);\n      };\n    }\n    $iter.create(Constructor, NAME, next);\n    var entries = createIter('key+value')\n      , values  = createIter('value')\n      , proto   = Base.prototype\n      , methods, key;\n    if(DEFAULT == 'value')values = defineIterator(Base, NAME, values, 'values');\n    else entries = defineIterator(Base, NAME, entries, 'entries');\n    if(DEFAULT){\n      methods = {\n        entries: entries,\n        keys:    IS_SET ? values : createIter('key'),\n        values:  values\n      };\n      $def($def.P + $def.F * BUGGY, NAME, methods);\n      if(FORCE)for(key in methods){\n        if(!(key in proto))$.hide(proto, key, methods[key]);\n      }\n    }\n  },\n  forOf: function(iterable, entries, fn, that){\n    var iterator = getIterator(iterable)\n      , f = ctx(fn, that, entries ? 2 : 1)\n      , step;\n    while(!(step = iterator.next()).done){\n      if(stepCall(iterator, f, step.value, entries) === false){\n        return closeIterator(iterator);\n      }\n    }\n  }\n};","'use strict';\nvar global = typeof self != 'undefined' ? self : Function('return this')()\n  , core   = {}\n  , defineProperty = Object.defineProperty\n  , hasOwnProperty = {}.hasOwnProperty\n  , ceil  = Math.ceil\n  , floor = Math.floor\n  , max   = Math.max\n  , min   = Math.min;\n// The engine works fine with descriptors? Thank's IE8 for his funny defineProperty.\nvar DESC = !!function(){\n  try {\n    return defineProperty({}, 'a', {get: function(){ return 2; }}).a == 2;\n  } catch(e){ /* empty */ }\n}();\nvar hide = createDefiner(1);\n// 7.1.4 ToInteger\nfunction toInteger(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n}\nfunction desc(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n}\nfunction simpleSet(object, key, value){\n  object[key] = value;\n  return object;\n}\nfunction createDefiner(bitmap){\n  return DESC ? function(object, key, value){\n    return $.setDesc(object, key, desc(bitmap, value)); // eslint-disable-line no-use-before-define\n  } : simpleSet;\n}\n\nfunction isObject(it){\n  return it !== null && (typeof it == 'object' || typeof it == 'function');\n}\nfunction isFunction(it){\n  return typeof it == 'function';\n}\nfunction assertDefined(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n}\n\nvar $ = module.exports = require('./$.fw')({\n  g: global,\n  core: core,\n  html: global.document && document.documentElement,\n  // http://jsperf.com/core-js-isobject\n  isObject:   isObject,\n  isFunction: isFunction,\n  it: function(it){\n    return it;\n  },\n  that: function(){\n    return this;\n  },\n  // 7.1.4 ToInteger\n  toInteger: toInteger,\n  // 7.1.15 ToLength\n  toLength: function(it){\n    return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n  },\n  toIndex: function(index, length){\n    index = toInteger(index);\n    return index < 0 ? max(index + length, 0) : min(index, length);\n  },\n  has: function(it, key){\n    return hasOwnProperty.call(it, key);\n  },\n  create:     Object.create,\n  getProto:   Object.getPrototypeOf,\n  DESC:       DESC,\n  desc:       desc,\n  getDesc:    Object.getOwnPropertyDescriptor,\n  setDesc:    defineProperty,\n  getKeys:    Object.keys,\n  getNames:   Object.getOwnPropertyNames,\n  getSymbols: Object.getOwnPropertySymbols,\n  // Dummy, fix for not array-like ES3 string in es5 module\n  assertDefined: assertDefined,\n  ES5Object: Object,\n  toObject: function(it){\n    return $.ES5Object(assertDefined(it));\n  },\n  hide: hide,\n  def: createDefiner(0),\n  set: global.Symbol ? simpleSet : hide,\n  mix: function(target, src){\n    for(var key in src)hide(target, key, src[key]);\n    return target;\n  },\n  each: [].forEach\n});\nif(typeof __e != 'undefined')__e = core;\nif(typeof __g != 'undefined')__g = global;","var $ = require('./$');\nmodule.exports = function(C){\n  if($.DESC && $.FW)$.setDesc(C, require('./$.wks')('species'), {\n    configurable: true,\n    get: $.that\n  });\n};","'use strict';\n// true  -> String#at\n// false -> String#codePointAt\nvar $ = require('./$');\nmodule.exports = function(TO_STRING){\n  return function(pos){\n    var s = String($.assertDefined(this))\n      , i = $.toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l\n      || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n        ? TO_STRING ? s.charAt(i) : a\n        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};","var sid = 0;\nfunction uid(key){\n  return 'Symbol(' + key + ')_' + (++sid + Math.random()).toString(36);\n}\nuid.safe = require('./$').g.Symbol || uid;\nmodule.exports = uid;","// 22.1.3.31 Array.prototype[@@unscopables]\nvar $           = require('./$')\n  , UNSCOPABLES = require('./$.wks')('unscopables');\nif($.FW && !(UNSCOPABLES in []))$.hide(Array.prototype, UNSCOPABLES, {});\nmodule.exports = function(key){\n  if($.FW)[][UNSCOPABLES][key] = true;\n};","var global = require('./$').g\n  , store  = {};\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    global.Symbol && global.Symbol[name] || require('./$.uid').safe('Symbol.' + name));\n};","var $          = require('./$')\n  , setUnscope = require('./$.unscope')\n  , ITER       = require('./$.uid').safe('iter')\n  , $iter      = require('./$.iter')\n  , step       = $iter.step\n  , Iterators  = $iter.Iterators;\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\n$iter.std(Array, 'Array', function(iterated, kind){\n  $.set(this, ITER, {o: $.toObject(iterated), i: 0, k: kind});\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var iter  = this[ITER]\n    , O     = iter.o\n    , kind  = iter.k\n    , index = iter.i++;\n  if(!O || index >= O.length){\n    iter.o = undefined;\n    return step(1);\n  }\n  if(kind == 'key'  )return step(0, index);\n  if(kind == 'value')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'value');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\nsetUnscope('keys');\nsetUnscope('values');\nsetUnscope('entries');","'use strict';\nvar strong = require('./$.collection-strong');\n\n// 23.1 Map Objects\nrequire('./$.collection')('Map', {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);","var set   = require('./$').set\n  , at    = require('./$.string-at')(true)\n  , ITER  = require('./$.uid').safe('iter')\n  , $iter = require('./$.iter')\n  , step  = $iter.step;\n\n// 21.1.3.27 String.prototype[@@iterator]()\n$iter.std(String, 'String', function(iterated){\n  set(this, ITER, {o: String(iterated), i: 0});\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var iter  = this[ITER]\n    , O     = iter.o\n    , index = iter.i\n    , point;\n  if(index >= O.length)return step(1);\n  point = at.call(O, index);\n  iter.i += point.length;\n  return step(0, point);\n});","require('./es6.array.iterator');\nvar $           = require('./$')\n  , Iterators   = require('./$.iter').Iterators\n  , ITERATOR    = require('./$.wks')('iterator')\n  , ArrayValues = Iterators.Array\n  , NodeList    = $.g.NodeList;\nif($.FW && NodeList && !(ITERATOR in NodeList.prototype)){\n  $.hide(NodeList.prototype, ITERATOR, ArrayValues);\n}\nIterators.NodeList = ArrayValues;","/*jslint browserify: true */\n\"use strict\";\n\nrequire('./polyfills.js');\nvar opendolphin = (typeof window !== \"undefined\" ? window.opendolphin : typeof global !== \"undefined\" ? global.opendolphin : null);\nvar ObjectObserver = (typeof window !== \"undefined\" ? window.ObjectObserver : typeof global !== \"undefined\" ? global.ObjectObserver : null);\nvar Map  = require('../bower_components/core.js/library/fn/map');\n\nvar exists = require('./utils.js').exists;\n\nvar UNKNOWN = 0,\n    BASIC_TYPE = 1,\n    DOLPHIN_BEAN = 2;\n\nfunction fromDolphin(classRepository, type, value) {\n    return type === DOLPHIN_BEAN? classRepository.beanFromDolphin.get(value) : value;\n}\n\nfunction toDolphin(classRepository, type, value) {\n    return type === DOLPHIN_BEAN? classRepository.beanToDolphin.get(value) : value;\n}\n\nfunction modifyList(bean, attribute, from, count, newElements) {\n    var list = bean[attribute];\n    if (!exists(list)) {\n        bean[attribute] = list = [];\n    } else if (!Array.isArray(list)) {\n        bean[attribute] = list = [list];\n    }\n    if (typeof newElements === 'undefined') {\n        list.splice(from, count);\n    } else {\n        list.splice(from, count, newElements);\n    }\n}\n\n\nfunction ClassRepository() {\n    this.classes = new Map();\n    this.beanFromDolphin = new Map();\n    this.beanToDolphin = new Map();\n    this.classInfos = new Map();\n}\n\n\nClassRepository.prototype.registerClass = function (model) {\n    if (this.classes.has(model.id)) {\n        return;\n    }\n\n    var classInfo = {};\n    model.attributes.forEach(function (attribute) {\n        classInfo[attribute.propertyName] = UNKNOWN;\n\n        attribute.onValueChange(function (event) {\n            classInfo[attribute.propertyName] = event.newValue;\n        });\n    });\n    this.classes.set(model.id, classInfo);\n};\n\n\nClassRepository.prototype.unregisterClass = function (model) {\n    this.classes['delete'](model.id);\n};\n\n\nClassRepository.prototype.load = function (model) {\n    var _this = this;\n    var classInfo = this.classes.get(model.presentationModelType);\n    var bean = {};\n    model.attributes.filter(function (attribute) {\n        return attribute.tag === opendolphin.Tag.value();\n    }).forEach(function (attribute) {\n        bean[attribute.propertyName] = null;\n        attribute.onValueChange(function (event) {\n            if (event.oldValue !== event.newValue) {\n                bean[attribute.propertyName] = fromDolphin(_this, classInfo[attribute.propertyName], event.newValue);\n            }\n        });\n    });\n    var observer = new ObjectObserver(bean);\n    observer.open(function (added, removed, changed) {\n        Object.keys(added).forEach(function (property) {\n            var attribute = model.findAttributeByPropertyName(property);\n            if (exists(attribute)) {\n                var value = toDolphin(_this, classInfo[property], added[property]);\n                attribute.setValue(value);\n            }\n        });\n        Object.keys(removed).forEach(function (property) {\n            var attribute = model.findAttributeByPropertyName(property);\n            if (exists(attribute)) {\n                attribute.setValue(null);\n            }\n        });\n        Object.keys(changed).forEach(function (property) {\n            var attribute = model.findAttributeByPropertyName(property);\n            if (exists(attribute)) {\n                var value = toDolphin(_this, classInfo[property], changed[property]);\n                attribute.setValue(value);\n            }\n        });\n    });\n    this.beanFromDolphin.set(model.id, bean);\n    this.beanToDolphin.set(bean, model.id);\n    this.classInfos.set(model.id, classInfo);\n    return bean;\n};\n\n\nClassRepository.prototype.unload = function(model) {\n    var bean = this.beanFromDolphin.get(model.id);\n    this.beanFromDolphin['delete'](model.id);\n    this.beanToDolphin['delete'](bean);\n    this.classInfos['delete'](model.id);\n    return bean;\n};\n\n\nClassRepository.prototype.addListEntry = function(model) {\n    var source = model.findAttributeByPropertyName('source');\n    var attribute = model.findAttributeByPropertyName('attribute');\n    var pos = model.findAttributeByPropertyName('pos');\n    var element = model.findAttributeByPropertyName('element');\n\n    if (exists(source) && exists(attribute) && exists(pos) && exists(element)) {\n        var classInfo = this.classInfos.get(source.value);\n        var bean = this.beanFromDolphin.get(source.value);\n        if (exists(bean) && exists(classInfo)) {\n            var entry = fromDolphin(this, classInfo[attribute.value], element.value);\n            modifyList(bean, attribute.value, pos.value, 0, entry);\n        } else {\n            throw new Error(\"Invalid list modification update received. Source bean unknown.\");\n        }\n    } else {\n        throw new Error(\"Invalid list modification update received\");\n    }\n};\n\n\nClassRepository.prototype.delListEntry = function(model) {\n    var source = model.findAttributeByPropertyName('source');\n    var attribute = model.findAttributeByPropertyName('attribute');\n    var from = model.findAttributeByPropertyName('from');\n    var to = model.findAttributeByPropertyName('to');\n\n    if (exists(source) && exists(attribute) && exists(from) && exists(to)) {\n        var bean = this.beanFromDolphin.get(source.value);\n        if (exists(bean)) {\n            modifyList(bean, attribute.value, from.value, to.value - from.value);\n        } else {\n            throw new Error(\"Invalid list modification update received. Source bean unknown.\");\n        }\n    } else {\n        throw new Error(\"Invalid list modification update received\");\n    }\n};\n\n\nClassRepository.prototype.setListEntry = function(model) {\n    var source = model.findAttributeByPropertyName('source');\n    var attribute = model.findAttributeByPropertyName('attribute');\n    var pos = model.findAttributeByPropertyName('pos');\n    var element = model.findAttributeByPropertyName('element');\n\n    if (exists(source) && exists(attribute) && exists(pos) && exists(element)) {\n        var classInfo = this.classInfos.get(source.value);\n        var bean = this.beanFromDolphin.get(source.value);\n        if (exists(bean) && exists(classInfo)) {\n            var entry = fromDolphin(this, classInfo[attribute.value], element.value);\n            modifyList(bean, attribute.value, pos.value, 1, entry);\n        } else {\n            throw new Error(\"Invalid list modification update received. Source bean unknown.\");\n        }\n    }else {\n        throw new Error(\"Invalid list modification update received\");\n    }\n};\n\n\nClassRepository.prototype.mapParamToDolphin = function(param) {\n    if (!exists(param)) {\n        return {value: param, type: UNKNOWN};\n    }\n    var type = typeof param;\n    if (type === 'object') {\n        var value = this.beanToDolphin.get(param);\n        if (exists(value)) {\n            return {value: value, type: DOLPHIN_BEAN};\n        }\n        throw new TypeError(\"Only managed Dolphin Beans can be used\");\n    }\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n        return {value: param, type: BASIC_TYPE};\n    }\n    throw new TypeError(\"Only managed Dolphin Beans and primitive types can be used\");\n};\n\n\nexports.ClassRepository = ClassRepository;\nexports.UNKNOWN = UNKNOWN;\nexports.BASIC_TYPE = BASIC_TYPE;\nexports.DOLPHIN_BEAN = DOLPHIN_BEAN;\n","////////////////////\n// Array.forEach()\n////////////////////\nif (!Array.prototype.forEach) {\n\n    Array.prototype.forEach = function(callback, thisArg) {\n\n        var T, k;\n\n        if (this == null) {\n            throw new TypeError(' this is null or not defined');\n        }\n\n        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n        var O = Object(this);\n\n        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        var len = O.length >>> 0;\n\n        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== \"function\") {\n            throw new TypeError(callback + ' is not a function');\n        }\n\n        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 1) {\n            T = thisArg;\n        }\n\n        // 6. Let k be 0\n        k = 0;\n\n        // 7. Repeat, while k < len\n        while (k < len) {\n\n            var kValue;\n\n            // a. Let Pk be ToString(k).\n            //   This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n            //   This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n\n                // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n                kValue = O[k];\n\n                // ii. Call the Call internal method of callback with T as the this value and\n                // argument list containing kValue, k, and O.\n                callback.call(T, kValue, k, O);\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n        // 8. return undefined\n    };\n}\n\n\n\n////////////////////\n// Array.filter()\n////////////////////\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function(fun/*, thisArg*/) {\n        'use strict';\n\n        if (this === void 0 || this === null) {\n            throw new TypeError();\n        }\n\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== 'function') {\n            throw new TypeError();\n        }\n\n        var res = [];\n        var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n        for (var i = 0; i < len; i++) {\n            if (i in t) {\n                var val = t[i];\n\n                // NOTE: Technically this should Object.defineProperty at\n                //       the next index, as push can be affected by\n                //       properties on Object.prototype and Array.prototype.\n                //       But that method's new, and collisions should be\n                //       rare, so use the more-compatible alternative.\n                if (fun.call(thisArg, val, i, t)) {\n                    res.push(val);\n                }\n            }\n        }\n\n        return res;\n    };\n}","/*jslint browserify: true */\n\"use strict\";\n\nmodule.exports.exists = function (object) {\n    return typeof object !== 'undefined' && object !== null;\n};\n"],"sourceRoot":"/source/"}